<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Generative Business Intelligence (Gen BI)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-c1fac2584b48ed01fb6e278e36375074.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://changezakram.github.io/"> 
<span class="menu-text">Changez Akram</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-generative-ai" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Generative AI</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-generative-ai">    
        <li>
    <a class="dropdown-item" href="../vae.html">
 <span class="dropdown-text">Variational Autoencoders (VAEs)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../flows.html">
 <span class="dropdown-text">Normalizing Flows</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ebm.html">
 <span class="dropdown-text">Energy-Based Models (EBMs)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../diffusion.html">
 <span class="dropdown-text">Diffusion Models</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-large-language-models" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Large Language Models</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-large-language-models">    
        <li>
    <a class="dropdown-item" href="https://changezakram.github.io/Deep-Generative-Models/transformers.html">
 <span class="dropdown-text">Transformers</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-agentic-ai" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Agentic AI</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-agentic-ai">    
        <li>
    <a class="dropdown-item" href="https://changezakram.github.io/agentic-ai/agentic-ai.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-math-review" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Math Review</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-math-review">    
        <li>
    <a class="dropdown-item" href="https://changezakram.github.io/math-review/linear-algebra.html">
 <span class="dropdown-text">Linear Algebra</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://changezakram.github.io/math-review/calculus.html">
 <span class="dropdown-text">Calculus</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://changezakram.github.io/math-review/probability.html">
 <span class="dropdown-text">Probability</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-use-cases" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Use Cases</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-use-cases">    
        <li>
    <a class="dropdown-item" href="https://changezakram.github.io/Deep-Generative-Models/gen-ai-use-cases/banking-use-cases.html">
 <span class="dropdown-text">Banking</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://changezakram.github.io/Deep-Generative-Models/gen-ai-use-cases/healthcare-use-cases.html">
 <span class="dropdown-text">Healthcare</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#executive-summary" id="toc-executive-summary" class="nav-link active" data-scroll-target="#executive-summary"><span class="header-section-number">1</span> Executive Summary</a>
  <ul class="collapse">
  <li><a href="#what-is-generative-bi" id="toc-what-is-generative-bi" class="nav-link" data-scroll-target="#what-is-generative-bi"><span class="header-section-number">1.1</span> What is Generative BI?</a></li>
  <li><a href="#why-now" id="toc-why-now" class="nav-link" data-scroll-target="#why-now"><span class="header-section-number">1.2</span> Why Now?</a></li>
  <li><a href="#strategic-relevance-for-our-organization" id="toc-strategic-relevance-for-our-organization" class="nav-link" data-scroll-target="#strategic-relevance-for-our-organization"><span class="header-section-number">1.3</span> Strategic Relevance for Our Organization</a></li>
  </ul></li>
  <li><a href="#foundations-of-generative-bi" id="toc-foundations-of-generative-bi" class="nav-link" data-scroll-target="#foundations-of-generative-bi"><span class="header-section-number">2</span> Foundations of Generative BI</a>
  <ul class="collapse">
  <li><a href="#from-traditional-bi-to-generative-bi" id="toc-from-traditional-bi-to-generative-bi" class="nav-link" data-scroll-target="#from-traditional-bi-to-generative-bi"><span class="header-section-number">2.1</span> From Traditional BI to Generative BI</a></li>
  <li><a href="#key-capabilities-of-gen-bi" id="toc-key-capabilities-of-gen-bi" class="nav-link" data-scroll-target="#key-capabilities-of-gen-bi"><span class="header-section-number">2.2</span> Key Capabilities of Gen BI</a></li>
  <li><a href="#distinction-from-self-service-and-augmented-analytics" id="toc-distinction-from-self-service-and-augmented-analytics" class="nav-link" data-scroll-target="#distinction-from-self-service-and-augmented-analytics"><span class="header-section-number">2.3</span> Distinction from Self-Service and Augmented Analytics</a></li>
  </ul></li>
  <li><a href="#semantic-layer-the-bridge-between-data-and-language" id="toc-semantic-layer-the-bridge-between-data-and-language" class="nav-link" data-scroll-target="#semantic-layer-the-bridge-between-data-and-language"><span class="header-section-number">3</span> Semantic Layer: The Bridge Between Data and Language</a>
  <ul class="collapse">
  <li><a href="#what-is-a-semantic-layer" id="toc-what-is-a-semantic-layer" class="nav-link" data-scroll-target="#what-is-a-semantic-layer"><span class="header-section-number">3.1</span> What Is a Semantic Layer?</a></li>
  <li><a href="#why-it-matters-in-generative-bi" id="toc-why-it-matters-in-generative-bi" class="nav-link" data-scroll-target="#why-it-matters-in-generative-bi"><span class="header-section-number">3.2</span> Why It Matters in Generative BI</a></li>
  <li><a href="#core-benefits" id="toc-core-benefits" class="nav-link" data-scroll-target="#core-benefits"><span class="header-section-number">3.3</span> Core Benefits</a></li>
  <li><a href="#architecture-approaches-to-building-a-semantic-layer" id="toc-architecture-approaches-to-building-a-semantic-layer" class="nav-link" data-scroll-target="#architecture-approaches-to-building-a-semantic-layer"><span class="header-section-number">3.4</span> Architecture Approaches to Building a Semantic Layer</a></li>
  <li><a href="#how-leading-platforms-implement-it" id="toc-how-leading-platforms-implement-it" class="nav-link" data-scroll-target="#how-leading-platforms-implement-it"><span class="header-section-number">3.5</span> How Leading Platforms Implement It</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">3.6</span> Summary</a></li>
  </ul></li>
  <li><a href="#current-gen-bi-solutions-landscape-strengths-and-weaknesses" id="toc-current-gen-bi-solutions-landscape-strengths-and-weaknesses" class="nav-link" data-scroll-target="#current-gen-bi-solutions-landscape-strengths-and-weaknesses"><span class="header-section-number">4</span> Current Gen BI Solutions: Landscape, Strengths, and Weaknesses</a></li>
  <li><a href="#use-cases-and-applications" id="toc-use-cases-and-applications" class="nav-link" data-scroll-target="#use-cases-and-applications"><span class="header-section-number">5</span> Use Cases and Applications</a></li>
  <li><a href="#architecture-and-technical-stack" id="toc-architecture-and-technical-stack" class="nav-link" data-scroll-target="#architecture-and-technical-stack"><span class="header-section-number">6</span> Architecture and Technical Stack</a>
  <ul class="collapse">
  <li><a href="#core-components-of-gen-bi-architecture" id="toc-core-components-of-gen-bi-architecture" class="nav-link" data-scroll-target="#core-components-of-gen-bi-architecture"><span class="header-section-number">6.1</span> Core Components of Gen BI Architecture</a></li>
  <li><a href="#nlqnlg-pipeline-how-it-works" id="toc-nlqnlg-pipeline-how-it-works" class="nav-link" data-scroll-target="#nlqnlg-pipeline-how-it-works"><span class="header-section-number">6.2</span> NLQ/NLG Pipeline: How It Works</a></li>
  <li><a href="#integration-with-bi-and-data-platforms" id="toc-integration-with-bi-and-data-platforms" class="nav-link" data-scroll-target="#integration-with-bi-and-data-platforms"><span class="header-section-number">6.3</span> Integration with BI and Data Platforms</a></li>
  <li><a href="#vector-databases-and-retrieval-systems" id="toc-vector-databases-and-retrieval-systems" class="nav-link" data-scroll-target="#vector-databases-and-retrieval-systems"><span class="header-section-number">6.4</span> Vector Databases and Retrieval Systems</a></li>
  <li><a href="#summary-1" id="toc-summary-1" class="nav-link" data-scroll-target="#summary-1"><span class="header-section-number">6.5</span> Summary</a></li>
  </ul></li>
  <li><a href="#data-governance-and-trust" id="toc-data-governance-and-trust" class="nav-link" data-scroll-target="#data-governance-and-trust"><span class="header-section-number">7</span> Data Governance and Trust</a></li>
  <li><a href="#responsible-and-ethical-gen-bi" id="toc-responsible-and-ethical-gen-bi" class="nav-link" data-scroll-target="#responsible-and-ethical-gen-bi"><span class="header-section-number">8</span> Responsible and Ethical Gen BI</a></li>
  <li><a href="#implementation-roadmap" id="toc-implementation-roadmap" class="nav-link" data-scroll-target="#implementation-roadmap"><span class="header-section-number">9</span> Implementation Roadmap</a></li>
  <li><a href="#roi-and-value-realization" id="toc-roi-and-value-realization" class="nav-link" data-scroll-target="#roi-and-value-realization"><span class="header-section-number">10</span> ROI and Value Realization</a></li>
  <li><a href="#risks-and-challenges" id="toc-risks-and-challenges" class="nav-link" data-scroll-target="#risks-and-challenges"><span class="header-section-number">11</span> Risks and Challenges</a>
  <ul class="collapse">
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">11.1</span> References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Generative Business Intelligence (Gen BI)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="executive-summary" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Executive Summary</h1>
<section id="what-is-generative-bi" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="what-is-generative-bi"><span class="header-section-number">1.1</span> What is Generative BI?</h2>
<p>Generative Business Intelligence (Gen BI) integrates large language models (LLMs) into business intelligence workflows, enabling users to interact with data through natural language queries (NLQ) and generate dynamic narratives (NLG). This shift moves BI from static dashboards and pre-defined filters to real-time, conversational insight delivery.</p>
<p>Unlike traditional BI tools that require technical skill to extract insights, Gen BI allows users to ask questions in plain English, automates reporting, and generates personalized summaries — all grounded in enterprise data.</p>
</section>
<section id="why-now" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="why-now"><span class="header-section-number">1.2</span> Why Now?</h2>
<p>Three converging trends are accelerating the adoption of Gen BI:</p>
<ul>
<li><strong>LLM Maturity</strong>: Advanced models like GPT-4, Claude, and Gemini now support complex reasoning and multilingual interaction.</li>
<li><strong>Technology Convergence</strong>: Modern data stacks (e.g., Snowflake, dbt, Power BI) provide clean, governed data layers that LLMs can safely access.</li>
<li><strong>Business Demand</strong>: Organizations want faster, more intuitive access to insights without expanding BI teams.</li>
</ul>
<p>According to Gartner, 40% of enterprise applications now include conversational AI, up from less than 5% in 2020<sup>[1]</sup>.</p>
<p>A 2024 McKinsey survey found that 65% of organizations use generative AI in at least one business function — nearly double the rate from the previous year<sup>[2]</sup>.</p>
<p>Recent trends support this shift: 67% of business leaders now report using generative AI specifically for data analysis and business intelligence<sup>[3]</sup>. This highlights growing recognition that BI must evolve from simply being accessible to being intelligent, adaptive, and proactive.</p>
</section>
<section id="strategic-relevance-for-our-organization" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="strategic-relevance-for-our-organization"><span class="header-section-number">1.3</span> Strategic Relevance for Our Organization</h2>
<p>For data-driven organizations, Gen BI offers immediate strategic benefits:</p>
<ul>
<li><strong>Democratizes analytics</strong>: Empowers non-technical users to access data independently</li>
<li><strong>Automates narrative generation</strong>: Saves analysts time with auto-generated summaries, KPI explanations, and board-ready briefs</li>
<li><strong>Improves data literacy</strong>: Translates structured data into business-friendly language</li>
<li><strong>Boosts BI ROI</strong>: Enhances the value of existing BI tools like Power BI, Tableau, or ThoughtSpot without requiring replacement</li>
</ul>
<p>McKinsey estimates that generative AI could contribute up to $4.4 trillion annually to global productivity gains<sup>[4]</sup>. Organizations that embed Gen BI early stand to gain a decisive advantage in decision velocity, efficiency, and user empowerment.</p>
<hr>
</section>
</section>
<section id="foundations-of-generative-bi" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Foundations of Generative BI</h1>
<section id="from-traditional-bi-to-generative-bi" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="from-traditional-bi-to-generative-bi"><span class="header-section-number">2.1</span> From Traditional BI to Generative BI</h2>
<p>Traditional Business Intelligence (BI) is centered around predefined reports, dashboards, and structured queries. Business users often depend on analysts to write SQL, prepare data models, or build dashboards — leading to bottlenecks and long turnaround times.</p>
<p>Self-service BI platforms like Power BI and Tableau introduced visual interfaces and drag-and-drop tools to reduce technical friction. However, even these tools require users to understand data schemas, relationships, and filters to get meaningful insights.</p>
<p><strong>Generative BI represents a major leap forward.</strong> It allows users to interact with enterprise data using plain language, receive direct answers, and generate narrative summaries — powered by large language models (LLMs). This approach removes barriers to insight by making analytics conversational, contextual, and personalized.</p>
</section>
<section id="key-capabilities-of-gen-bi" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="key-capabilities-of-gen-bi"><span class="header-section-number">2.2</span> Key Capabilities of Gen BI</h2>
<ol type="1">
<li><p><strong>Natural Language Querying (NLQ)</strong><br>
Users can ask business questions like “What were sales last quarter by region?” and receive charted responses — no code or filters needed.</p></li>
<li><p><strong>Natural Language Generation (NLG)</strong><br>
Automated summaries explain what changed, why it matters, and what to watch next — saving time and making data actionable.</p></li>
<li><p><strong>Agent-Based Analysis</strong><br>
Autonomous agents or copilots can proactively detect anomalies, generate executive reports, or monitor KPIs without needing explicit prompts.</p></li>
</ol>
<p>These capabilities enable faster insight generation, broader adoption of analytics, and reduced dependence on BI developers.</p>
</section>
<section id="distinction-from-self-service-and-augmented-analytics" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="distinction-from-self-service-and-augmented-analytics"><span class="header-section-number">2.3</span> Distinction from Self-Service and Augmented Analytics</h2>
<p><strong>Self-Service BI</strong> allows business users to create their own reports and dashboards using drag-and-drop interfaces and visual tools — typically without writing code. It empowers users but still requires them to understand filters, dimensions, and data relationships.</p>
<p><strong>Augmented Analytics</strong> builds on self-service BI by adding AI and machine learning to assist users with automated insights. These tools can suggest visualizations, detect anomalies, or highlight trends, but they still rely primarily on user-driven dashboard interaction.</p>
<p>Generative BI is the next step beyond self-service and augmented analytics. While it builds on the foundation they created, it introduces a new level of intelligence, automation, and ease of use — especially through natural language interaction.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 36%">
<col style="width: 19%">
<col style="width: 23%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Capability</th>
<th>Self-Service BI</th>
<th>Augmented Analytics</th>
<th>Generative BI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Requires dashboard interaction</td>
<td>Yes</td>
<td>Sometimes</td>
<td>No</td>
</tr>
<tr class="even">
<td>Natural language interface</td>
<td>Limited</td>
<td>Intermediate</td>
<td>Primary method</td>
</tr>
<tr class="odd">
<td>AI-generated narratives</td>
<td>Rare</td>
<td>Sometimes</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Proactive insight generation</td>
<td>No</td>
<td>Limited</td>
<td>Yes (agents)</td>
</tr>
<tr class="odd">
<td>Ease of use for business users</td>
<td>Medium</td>
<td>High</td>
<td>Very High</td>
</tr>
</tbody>
</table>
<hr>
</section>
</section>
<section id="semantic-layer-the-bridge-between-data-and-language" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Semantic Layer: The Bridge Between Data and Language</h1>
<section id="what-is-a-semantic-layer" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="what-is-a-semantic-layer"><span class="header-section-number">3.1</span> What Is a Semantic Layer?</h2>
<p>A <strong>semantic layer</strong> is a business-facing abstraction that translates complex data structures into familiar business terms like “net revenue,” “customer churn,” or “active users.” It allows users to interact with data intuitively, without needing to know database schemas, table joins, or SQL.</p>
<p>Rather than building logic repeatedly in dashboards or hardcoding KPIs, organizations define metrics and relationships once in the semantic layer — and reuse them across tools. This ensures consistency, reduces rework, and builds trust in data-driven decisions.</p>
</section>
<section id="why-it-matters-in-generative-bi" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="why-it-matters-in-generative-bi"><span class="header-section-number">3.2</span> Why It Matters in Generative BI</h2>
<p>Generative BI platforms enable users to ask data questions in plain English. But without a semantic layer, large language models (LLMs) can misinterpret field names, generate incorrect queries, or return inconsistent results.</p>
<p>The semantic layer provides the <strong>context, logic, and guardrails</strong> that Gen BI systems need to generate accurate, explainable answers. It ensures that when someone asks, “What’s our revenue trend in the Northeast?”, the system can translate that prompt into governed, pre-defined business logic — not a guess.</p>
<p>In short, <strong>the semantic layer is what makes natural language interaction trustworthy.</strong></p>
</section>
<section id="core-benefits" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="core-benefits"><span class="header-section-number">3.3</span> Core Benefits</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 74%">
</colgroup>
<thead>
<tr class="header">
<th>Capability</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Business Abstraction</strong></td>
<td>Allows users to query data using familiar business terms</td>
</tr>
<tr class="even">
<td><strong>Metric Consistency</strong></td>
<td>Ensures KPIs and calculations are defined and reused uniformly</td>
</tr>
<tr class="odd">
<td><strong>Governance &amp; Access</strong></td>
<td>Applies role-based access controls, audit trails, and data lineage</td>
</tr>
<tr class="even">
<td><strong>Explainability</strong></td>
<td>Provides transparency behind AI-generated answers and dashboards</td>
</tr>
<tr class="odd">
<td><strong>Cross-Tool Reusability</strong></td>
<td>Enables shared definitions across BI tools and Gen AI interfaces</td>
</tr>
</tbody>
</table>
<p>Below the surface, these benefits also support key strategic outcomes:</p>
<ul>
<li><strong>Governance</strong>: Enforces access controls, ensures accurate metric logic, and prevents unauthorized joins<br>
</li>
<li><strong>Consistency</strong>: Everyone calculates KPIs the same way — no more “multiple versions of the truth”<br>
</li>
<li><strong>Reusability</strong>: Build once, reuse across Gen BI assistants, dashboards, and reports<br>
</li>
<li><strong>Efficiency</strong>: Reduces analyst workload by removing ambiguity and duplication</li>
</ul>
</section>
<section id="architecture-approaches-to-building-a-semantic-layer" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="architecture-approaches-to-building-a-semantic-layer"><span class="header-section-number">3.4</span> Architecture Approaches to Building a Semantic Layer</h2>
<p>Not all semantic layers are built the same way. The architecture you choose can significantly affect flexibility, governance, and GenAI readiness. Based on a framework outlined by Kyligence[^1], there are three dominant approaches:</p>
<section id="in-warehouse-semantic-layer" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="in-warehouse-semantic-layer"><span class="header-section-number">3.4.1</span> In-Warehouse Semantic Layer</h3>
<p>Built directly within the data warehouse or lake (e.g., as SQL views or materialized metrics).</p>
<ul>
<li>✅ <strong>Pros</strong>: No vendor lock-in, trusted by IT, close to raw data<br>
</li>
<li>❌ <strong>Cons</strong>: Poor UX for non-technical users, hard to scale conversational BI</li>
</ul>
</section>
<section id="standalone-semantic-layer" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="standalone-semantic-layer"><span class="header-section-number">3.4.2</span> Standalone Semantic Layer</h3>
<p>A dedicated platform (e.g., AtScale, Kyligence Zen, Cube.dev) between raw data and BI/AI tools.</p>
<ul>
<li>✅ <strong>Pros</strong>: Central logic, GenAI-ready, cross-tool reuse, strong governance<br>
</li>
<li>❌ <strong>Cons</strong>: Requires infrastructure and integration effort</li>
</ul>
</section>
<section id="in-bi-tool-semantic-layer" class="level3" data-number="3.4.3">
<h3 data-number="3.4.3" class="anchored" data-anchor-id="in-bi-tool-semantic-layer"><span class="header-section-number">3.4.3</span> In-BI Tool Semantic Layer</h3>
<p>Embedded in a specific tool like Power BI datasets or LookML in Looker.</p>
<ul>
<li>✅ <strong>Pros</strong>: Seamless UX, low setup friction<br>
</li>
<li>❌ <strong>Cons</strong>: Vendor lock-in, limited cross-platform use</li>
</ul>
</section>
<section id="architecture-comparison" class="level3" data-number="3.4.4">
<h3 data-number="3.4.4" class="anchored" data-anchor-id="architecture-comparison"><span class="header-section-number">3.4.4</span> 🔄 Architecture Comparison</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 21%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 14%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Approach</th>
<th>Flexibility</th>
<th>Governance</th>
<th>Vendor Lock-In</th>
<th>GenAI Ready</th>
<th>End-User UX</th>
<th>Big Data Support</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>In-Warehouse</td>
<td>Low</td>
<td>Strong</td>
<td>None</td>
<td>Low</td>
<td>Poor</td>
<td>High</td>
</tr>
<tr class="even">
<td>Standalone Layer</td>
<td>High</td>
<td>Strong</td>
<td>None</td>
<td>High</td>
<td>Good</td>
<td>High</td>
</tr>
<tr class="odd">
<td>In-BI Tool</td>
<td>Low</td>
<td>Weak</td>
<td>High</td>
<td>Medium</td>
<td>Excellent</td>
<td>Limited</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="how-leading-platforms-implement-it" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="how-leading-platforms-implement-it"><span class="header-section-number">3.5</span> How Leading Platforms Implement It</h2>
<section id="power-bi-microsoft" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="power-bi-microsoft"><span class="header-section-number">3.5.1</span> Power BI (Microsoft)</h3>
<p>Power BI uses <strong>tabular semantic models</strong>, which define relationships, hierarchies, calculated measures, and row-level security. These models are tightly integrated into Microsoft Fabric and Power BI Desktop, enabling:</p>
<ul>
<li>Centralized data modeling<br>
</li>
<li>Shared datasets across workspaces<br>
</li>
<li>Integration with <strong>Copilot</strong>, Microsoft’s GenAI assistant for NLQ and NLG<br>
</li>
<li>Alignment with enterprise governance frameworks</li>
</ul>
<p>Power BI’s semantic layer is mature, stable, and deeply embedded in Microsoft’s ecosystem — making it an ideal foundation for governed, enterprise-grade Generative BI.</p>
</section>
<section id="thoughtspot" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="thoughtspot"><span class="header-section-number">3.5.2</span> ThoughtSpot</h3>
<p>While Power BI leads in market share and enterprise adoption, <strong>ThoughtSpot is included here because it represents a GenAI-native approach to semantic modeling</strong>. Its architecture was designed from the ground up for AI-first interaction, making it a forward-looking example of how semantic layers are evolving to support dynamic, conversational, and agent-driven analytics.</p>
<p>ThoughtSpot has built an <strong>Agentic Semantic Layer</strong> designed specifically for GenAI applications. Its key features include:</p>
<ul>
<li><strong>Synonym resolution</strong> for flexible querying<br>
</li>
<li><strong>Contextual understanding</strong> to refine and clarify user intent<br>
</li>
<li><strong>Data lineage and auditability</strong> to trace back how each insight was generated<br>
</li>
<li><strong>LLM grounding</strong> to ensure GenAI responses are aligned with trusted business logic</li>
</ul>
<p>This layer powers <strong>Spotter</strong>, ThoughtSpot’s LLM-based assistant, enabling follow-up questions, conversational exploration, and smart narrative generation — all based on governed metrics and metadata.</p>
<p>ThoughtSpot’s approach reflects a shift from static models to <strong>real-time, AI-native interaction</strong>, positioning the semantic layer not just as a backend modeling tool but as a <strong>dynamic interface between users and enterprise knowledge</strong>.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Other Semantic Layer Platforms">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Other Semantic Layer Platforms
</div>
</div>
<div class="callout-body-container callout-body">
<p>Several modern platforms also support semantic modeling and may be part of a broader Gen BI architecture:</p>
<ul>
<li><strong>dbt Semantic Layer</strong><br>
</li>
<li><strong>AtScale</strong><br>
</li>
<li><strong>Cube.dev</strong><br>
</li>
<li><strong>LookML (Looker)</strong></li>
</ul>
</div>
</div>
</section>
</section>
<section id="summary" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="summary"><span class="header-section-number">3.6</span> Summary</h2>
<p>In the age of Generative BI, the semantic layer is no longer optional — it’s foundational. Whether implemented as structured tabular models in Power BI or as dynamic, AI-augmented context layers in ThoughtSpot, the goal is the same:</p>
<p>To enable every user to ask questions in plain language and receive reliable, explainable answers rooted in trusted business logic.</p>
<p>A strong semantic layer unlocks the full potential of Generative BI — by combining the <strong>ease of conversation</strong> with the <strong>rigor of governance</strong>.</p>
<hr>
</section>
</section>
<section id="current-gen-bi-solutions-landscape-strengths-and-weaknesses" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Current Gen BI Solutions: Landscape, Strengths, and Weaknesses</h1>
<ul>
<li>Overview of available solutions (e.g., Microsoft Copilot, Tableau GPT, ThoughtSpot Sage, Sisense AI, Qlik Staige)<br>
</li>
<li>Strengths: integration with existing tools, ease of use, vendor support, scalability<br>
</li>
<li>Weaknesses: limited context awareness, hallucination risk, lack of deep customization, hidden costs<br>
</li>
<li>Open-source vs.&nbsp;commercial platforms<br>
</li>
<li>Criteria to consider when evaluating solutions</li>
</ul>
</section>
<section id="use-cases-and-applications" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Use Cases and Applications</h1>
<ul>
<li>Natural Language Querying (NLQ): Ad hoc question answering over enterprise data<br>
</li>
<li>Natural Language Generation (NLG): Dashboard summaries, KPI explanations, narratives<br>
</li>
<li>Use cases by function (Finance, Risk, Ops, Marketing, HR, etc.)<br>
</li>
<li>BI Copilots, GenAI chat interfaces, and report generation</li>
</ul>
</section>
<section id="architecture-and-technical-stack" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Architecture and Technical Stack</h1>
<p>The architecture of Generative Business Intelligence (Gen BI) systems blends traditional BI components with modern AI capabilities, enabling intuitive, language-based interaction with enterprise data. Below, we outline the foundational components and their integration pathways.</p>
<section id="core-components-of-gen-bi-architecture" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="core-components-of-gen-bi-architecture"><span class="header-section-number">6.1</span> Core Components of Gen BI Architecture</h2>
<section id="large-language-models-llms" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="large-language-models-llms"><span class="header-section-number">6.1.1</span> Large Language Models (LLMs)</h3>
<p>LLMs (e.g., GPT, Claude, Gemini) are foundational to Gen BI, serving as the natural language engine that interprets user queries and generates responses.</p>
<ul>
<li>Understand plain-English prompts<br>
</li>
<li>Generate SQL or semantic queries<br>
</li>
<li>Create narratives and data summaries<br>
</li>
<li>Enable follow-up dialogue and clarifications</li>
</ul>
</section>
<section id="embeddings" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="embeddings"><span class="header-section-number">6.1.2</span> Embeddings</h3>
<p>Embeddings convert business concepts and user queries into vector space representations that LLMs and retrieval systems can understand.</p>
<ul>
<li>Used in semantic search<br>
</li>
<li>Support intent classification and prompt routing<br>
</li>
<li>Help match vague queries to structured metadata</li>
</ul>
</section>
<section id="prompt-routing-and-orchestration" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="prompt-routing-and-orchestration"><span class="header-section-number">6.1.3</span> Prompt Routing and Orchestration</h3>
<p>Routing logic determines which model, tool, or action handles a given user prompt.</p>
<ul>
<li>Classifies intent (e.g., NLQ, dashboard request, data explanation)<br>
</li>
<li>Chooses between query generation vs.&nbsp;content summarization<br>
</li>
<li>Enables agent-based chaining (e.g., “Generate chart → explain trend → suggest actions”)</li>
</ul>
</section>
<section id="agents-and-planning-logic" class="level3" data-number="6.1.4">
<h3 data-number="6.1.4" class="anchored" data-anchor-id="agents-and-planning-logic"><span class="header-section-number">6.1.4</span> Agents and Planning Logic</h3>
<p>Multi-step agents break complex questions into smaller tasks and chain them across tools.</p>
<ul>
<li>Ask clarifying questions<br>
</li>
<li>Execute queries and retrieve results<br>
</li>
<li>Formulate explanations or next-best actions</li>
</ul>
</section>
</section>
<section id="nlqnlg-pipeline-how-it-works" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="nlqnlg-pipeline-how-it-works"><span class="header-section-number">6.2</span> NLQ/NLG Pipeline: How It Works</h2>
<p>The NLQ (Natural Language Querying) and NLG (Natural Language Generation) workflow in Gen BI involves the following pipeline:</p>
<p>```text User Prompt ↓ Intent Detection (NLQ vs NLG vs FAQ) ↓ Semantic Layer Query Mapping ↓ SQL or API Query Generation ↓ Execution on Data Platform (e.g., Snowflake) ↓ Result Interpretation &amp; Summary Generation ↓ Optional Follow-up (via Agent)</p>
<blockquote class="blockquote">
<p>This modular pipeline enables systems to dynamically adapt to user needs while staying grounded in governed metrics and business logic.</p>
</blockquote>
</section>
<section id="integration-with-bi-and-data-platforms" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="integration-with-bi-and-data-platforms"><span class="header-section-number">6.3</span> Integration with BI and Data Platforms</h2>
<p>Modern Gen BI systems are not standalone — they embed into the existing BI and data ecosystem:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 17%">
<col style="width: 82%">
</colgroup>
<thead>
<tr class="header">
<th>Platform</th>
<th>Role in Gen BI Stack</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Power BI</strong></td>
<td>Semantic model layer + Copilot for NLQ/NLG inside BI workflows</td>
</tr>
<tr class="even">
<td><strong>Tableau</strong></td>
<td>NLQ interface (Ask Data), LLM integrations via Tableau GPT</td>
</tr>
<tr class="odd">
<td><strong>Snowflake</strong></td>
<td>Execution engine; integrates with vector search, semantic cache</td>
</tr>
<tr class="even">
<td><strong>dbt</strong></td>
<td>Transformation logic and semantic modeling; aligns with Gen BI via dbt metrics and dbt Semantic Layer (optional)</td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>Gen BI tools use these platforms not only to execute queries but also to embed generative capabilities directly into dashboards, reports, and collaboration interfaces.</p>
</blockquote>
</section>
<section id="vector-databases-and-retrieval-systems" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="vector-databases-and-retrieval-systems"><span class="header-section-number">6.4</span> Vector Databases and Retrieval Systems</h2>
<p>Vector databases store and retrieve embeddings — a critical component for retrieval-augmented generation (RAG) and conversational memory.</p>
<ul>
<li>Examples: <strong>Pinecone, Weaviate, Chroma, FAISS</strong></li>
<li>Use cases in Gen BI:
<ul>
<li>Storing previous Q&amp;A history</li>
<li>Retrieving metric definitions or documentation</li>
<li>Enhancing query recall and follow-up interaction</li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p>When used effectively, vector search improves both the accuracy and context-awareness of Gen BI assistants.</p>
</blockquote>
</section>
<section id="summary-1" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="summary-1"><span class="header-section-number">6.5</span> Summary</h2>
<p>Generative BI’s architecture extends beyond traditional BI. It merges <strong>language intelligence (LLMs, embeddings, agents)</strong> with <strong>governed data access (semantic layers, BI tools)</strong> — orchestrated via prompt routing and vector-based retrieval systems. The result is a system that enables users to interact with enterprise data in intuitive, adaptive, and explainable ways.</p>
</section>
</section>
<section id="data-governance-and-trust" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Data Governance and Trust</h1>
<ul>
<li>Access control and permissioning<br>
</li>
<li>Preventing hallucinations and ensuring query accuracy<br>
</li>
<li>Traceability, auditability, and metadata integration<br>
</li>
<li>The role of the semantic layer and governed metrics</li>
</ul>
</section>
<section id="responsible-and-ethical-gen-bi" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Responsible and Ethical Gen BI</h1>
<ul>
<li>Bias and fairness in language-based outputs<br>
</li>
<li>Transparency and explainability<br>
</li>
<li>Regulatory and compliance alignment<br>
</li>
<li>Human-in-the-loop safeguards and approval layers</li>
</ul>
</section>
<section id="implementation-roadmap" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> Implementation Roadmap</h1>
<ul>
<li>Pilot selection and business value alignment<br>
</li>
<li>Building or adopting a semantic layer<br>
</li>
<li>Tool and model evaluation (LLMs, vector DBs, orchestration)<br>
</li>
<li>Phased rollout, training, and change management</li>
</ul>
</section>
<section id="roi-and-value-realization" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> ROI and Value Realization</h1>
<ul>
<li>Productivity and cost-efficiency gains<br>
</li>
<li>Time-to-insight acceleration<br>
</li>
<li>Impact on data culture and decision-making<br>
</li>
<li>Success metrics and adoption KPIs</li>
</ul>
</section>
<section id="risks-and-challenges" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> Risks and Challenges</h1>
<ul>
<li>LLM limitations and hallucination risks<br>
</li>
<li>Data quality and inconsistency issues<br>
</li>
<li>Upskilling and adoption hurdles<br>
</li>
<li>Security, compliance, and vendor lock-in</li>
</ul>
<section id="references" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="references"><span class="header-section-number">11.1</span> References</h2>
<p>[1] Gartner. “Generative AI.” <a href="https://www.gartner.com/en/topics/generative-ai">https://www.gartner.com/en/topics/generative-ai</a></p>
<p>[2] McKinsey &amp; Company. <em>Charting a Path to the Data- and AI-Driven Enterprise of 2030</em>. <a href="https://www.mckinsey.com/capabilities/mckinsey-digital/our-insights/charting-a-path-to-the-data-and-ai-driven-enterprise-of-2030">https://www.mckinsey.com/capabilities/mckinsey-digital/our-insights/charting-a-path-to-the-data-and-ai-driven-enterprise-of-2030</a></p>
<p>[3] ThoughtSpot. <em>AI in Business Intelligence: Trends Shaping the Future of Analytics</em>.<br>
<a href="https://www.thoughtspot.com/data-trends/ai/ai-in-business-intelligence">https://www.thoughtspot.com/data-trends/ai/ai-in-business-intelligence</a></p>
<p>[4] McKinsey &amp; Company. <em>The Economic Potential of Generative AI</em>. <a href="https://www.mckinsey.com/capabilities/mckinsey-digital/our-insights/the-economic-potential-of-generative-ai-the-next-productivity-frontier">https://www.mckinsey.com/capabilities/mckinsey-digital/our-insights/the-economic-potential-of-generative-ai-the-next-productivity-frontier</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>